# astrbot_plugin_qq_ban

QQ 退群黑名单插件，主要功能：

1. **退群即入黑名单**：检测到成员退出白名单内的群聊时立即写入本地黑名单，并可通过可编辑模板广播提示。
2. **自动拦截再入群**：黑名单成员的入群申请会被自动拒绝，可配置拒绝理由。
3. **自动同意开关**：可为非黑名单成员开启自动同意，且可独立控制是否提示。
4. **群聊白名单**：仅对配置中的群聊启用，避免误操作其他群。
5. **黑名单管理指令**：
   - `/ban_check <qq>` / `黑名单查询`：查看指定 QQ 是否在本群黑名单。
   - `/ban_add <qq>` / `添加黑名单`：管理员或配置的插件管理员可手动加入黑名单。
   - `/ban_remove <qq>` / `解除黑名单`：管理员或插件管理员可移除黑名单。

配置项通过 `_conf_schema.json` 在 AstrBot 面板中可视化修改，黑名单数据存放于 `data/plugins/astrbot_plugin_qq_ban/<群号>/blacklist.json`。

## 指令速览

| 指令 | 权限 | 说明 |
| --- | --- | --- |
| `/ban_check <qq>` / `黑名单查询 <qq>` | 全体成员 | 查询目标 QQ 是否在当前群的黑名单。多用于成员自查或复核。 |
| `/ban_add <qq>` / `添加黑名单 <qq>` | 群管理员 / 插件管理员 | 手动加入黑名单，可在成员违规但未退群时主动封禁。 |
| `/ban_remove <qq>` / `解除黑名单 <qq>` | 群管理员 / 插件管理员 | 将成员从黑名单移除，允许其重新申请入群。 |

> 插件管理员列表可在 `_conf_schema.json` 中配置 `admin_ids`，用于赋予非群管理账号操作权限。
